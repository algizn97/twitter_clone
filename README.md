Корпоративный сервис микроблоггинга (Twitter-подобный)

Описание проекта

Данный проект реализует внутренний корпоративный микроблоггинг-сервис, аналогичный Twitter. Основная цель — предоставить сотрудникам возможность публиковать короткие сообщения (твиты), прикреплять к ним изображения, ставить лайки и подписываться друг на друга.

Проект работает в рамках корпоративной системы, где пользователи уже созданы и идентифицируются по ключу api-key в HTTP-заголовках. Регистрация и аутентификация пользователей выходит за рамки данного сервиса.

Основные возможности

- Публикация твитов с текстом и медиа (картинками)

- Удаление своих твитов

- Подписка и отписка от других пользователей

- Лайк и снятие лайка с твитов

- Получение персонализированной ленты твитов от пользователей, на которых подписан текущий пользователь, с сортировкой по популярности

- Получение информации о профиле пользователя и списках подписчиков/подписок

Используемые технологии

Backend: Flask

База данных: PostgreSQL

Документация API: Swagger

Контейнеризация: Docker и Docker Compose

Запуск проекта

Требования

Установленный Docker

Установленный Docker Compose

Инструкция

Клонируйте репозиторий проекта:

bash
git clone <URL вашего репозитория>
cd <папка проекта>

Заполните данные в .env

Запустите сервис с помощью Docker Compose:

bash
docker-compose up -d

Проверьте, что сервис запустился успешно:

API будет доступен по адресу http://localhost:5000

Документация Swagger — по адресу http://localhost:8000/docs или http://localhost:8000/swagger

Используйте тестовые api-key (например, заполненные в базе тестовые пользователи) для авторизации запросов.

Описание API

Заголовок авторизации

Все запросы требуют передачи заголовка:

text
api-key: <ваш ключ пользователя>
Значение ключа должно соответствовать пользователю в базе данных.

Основные эндпоинты
POST /api/tweets — создание твита

POST /api/medias — загрузка изображения

DELETE /api/tweets/{tweet_id} — удаление своего твита

POST /api/tweets/{tweet_id}/likes — поставить лайк

DELETE /api/tweets/{tweet_id}/likes — убрать лайк

POST /api/users/{user_id}/follow — подписаться

DELETE /api/users/{user_id}/follow — отписаться

GET /api/tweets — получить ленту твитов

GET /api/users/me — получить информацию о своём профиле

GET /api/users/{user_id} — получить информацию о пользователе по ID

Полное описание и примеры запросов/ответов доступны в Swagger-документации.

Хранение данных
Данные хранятся в PostgreSQL, который развёртывается в составе Docker Compose вместе с приложением. Все данные сохраняются между перезапусками.

Примечание по аутентификации и пользователям
Пользователи создаются и поддерживаются внешней корпоративной системой.

В нашей системе идентификация пользователя происходит только по заголовку api-key.

Обработка и проверка корректности ключа происходит на бэкенде.
